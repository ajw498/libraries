.\"Generated by db2man.xsl. Don't modify this, modify the source.
.de Sh \" Subsection
.br
.if t .Sp
.ne 5
.PP
\fB\\$1\fR
.PP
..
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Ip \" List item
.br
.ie \\n(.$>=3 .ne \\$3
.el .ne 3
.IP "\\$1" \\$2
..
.TH "NE_SSL_LOAD_CA" 3 "9 August 2002" "neon 0.22.0" "neon API reference"
.SH NAME
ne_ssl_load_ca, ne_ssl_load_default_ca \- load SSL Certificate Authorities
.SH "SYNOPSIS"
.ad l
.hy 0

#include <ne_session.h>
.sp
.HP 20
int\ \fBne_ssl_load_ca\fR\ (ne_session\ *\fIsession\fR, const\ char\ *\fIfilename\fR);
.HP 28
int\ \fBne_ssl_load_default_ca\fR\ (ne_session\ *\fIsession\fR);
.ad
.hy

.SH "DESCRIPTION"

.PP
To indicate that a given CA certificate is trusted by the user, the certificate can be loaded using the \fBne_ssl_load_ca\fR function. The \fIfilename\fR parameter given must specify the location of a PEM-encoded CA certificate.

.PP
The SSL library in use by neon may include a default set of CA certificates; calling the \fBne_ssl_load_default_ca\fR function will indicate that these CAs are trusted by the user.

.PP
If no CA certificates are loaded, or the server presents a certificate which is invalid in some way, then the certificate must be manually verified (see \fBne_ssl_set_verify\fR(3)), otherwise the connection will fail.

.SH "RETURN VALUE"

.PP
Both \fBne_ssl_load_ca\fR and \fBne_ssl_load_default_ca\fR functions return 0 on success, or non-zero on failure.

.SH "EXAMPLES"

.PP
Load the CA certificate stored in \fI/path/to/cacert.pem\fR:

.nf
ne_session *sess = ne_session_create(...);

if (ne_ssl_load_ca(sess, "/path/to/cacert.pem")) {
   printf("Could not load CA cert: %s\\n", ne_get_error(sess));
}
.fi

.SH "SEE ALSO"

.PP
\fBne_get_error\fR(3), \fBne_ssl_set_verify\fR(3)

.SH AUTHOR
Joe Orton  <neon@webdav.org>.
